═══════════════════════════════════════════════════════════════
   CHEMINS SOURCES - FICHIERS À UPLOADER
═══════════════════════════════════════════════════════════════

RÉPERTOIRE LOCAL (source):
  /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/

───────────────────────────────────────────────────────────────
 GROUPE 1: AUTH (4 fichiers - NOUVEAU RÉPERTOIRE)
───────────────────────────────────────────────────────────────

Source locale:
  api/v1/auth/.htaccess
  api/v1/auth/login.php
  api/v1/auth/me.php
  api/v1/auth/logout.php

Chemins absolus sources:
  /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/.htaccess
  /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/login.php
  /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/me.php
  /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/logout.php

Destination serveur:
  /custom/mv3pro_portail/api/v1/auth/.htaccess
  /custom/mv3pro_portail/api/v1/auth/login.php
  /custom/mv3pro_portail/api/v1/auth/me.php
  /custom/mv3pro_portail/api/v1/auth/logout.php

───────────────────────────────────────────────────────────────
 GROUPE 2: PLANNING (2 fichiers - RÉPERTOIRE EXISTANT)
───────────────────────────────────────────────────────────────

Source locale:
  api/v1/planning_view.php
  api/v1/planning_file.php

Chemins absolus sources:
  /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/planning_view.php
  /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/planning_file.php

Destination serveur:
  /custom/mv3pro_portail/api/v1/planning_view.php
  /custom/mv3pro_portail/api/v1/planning_file.php

───────────────────────────────────────────────────────────────
 TAILLES DES FICHIERS
───────────────────────────────────────────────────────────────

auth/.htaccess        434 bytes
auth/login.php        7.4 KB
auth/me.php           2.5 KB
auth/logout.php       826 bytes

planning_view.php     6.5 KB (approx)
planning_file.php     4.5 KB (approx)

TOTAL: ~22 KB

───────────────────────────────────────────────────────────────
 COMMANDES POUR COPIER (si accès SSH)
───────────────────────────────────────────────────────────────

# Créer répertoire auth sur le serveur
mkdir -p /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/auth

# Copier fichiers auth
cp /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/.htaccess \
   /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/auth/

cp /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/login.php \
   /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/auth/

cp /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/me.php \
   /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/auth/

cp /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/auth/logout.php \
   /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/auth/

# Copier fichiers planning
cp /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/planning_view.php \
   /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/

cp /tmp/cc-agent/59302460/project/new_dolibarr/mv3pro_portail/api/v1/planning_file.php \
   /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/

# Appliquer permissions
chmod 644 /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/auth/*
chmod 644 /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/planning_view.php
chmod 644 /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/planning_file.php

───────────────────────────────────────────────────────────────
 VÉRIFICATION POST-UPLOAD
───────────────────────────────────────────────────────────────

# Lister fichiers uploadés
ls -lha /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/auth/
ls -lh /path/to/dolibarr/htdocs/custom/mv3pro_portail/api/v1/planning*.php

# Résultat attendu:
# auth/.htaccess       434 bytes  644
# auth/login.php       7.4 KB     644
# auth/me.php          2.5 KB     644
# auth/logout.php      826 bytes  644
# planning_view.php    ~6.5 KB    644
# planning_file.php    ~4.5 KB    644

───────────────────────────────────────────────────────────────
 TESTS POST-UPLOAD
───────────────────────────────────────────────────────────────

Test 1: Fichiers accessibles (doit retourner 401, PAS 404)
  curl https://mv3pro.ch/custom/mv3pro_portail/api/v1/auth/login.php

Test 2: Login API
  curl -X POST https://mv3pro.ch/custom/mv3pro_portail/api/v1/auth/login.php \
    -H "Content-Type: application/json" \
    -d '{"email":"admin@test.local","password":"password"}'

Test 3: Planning view
  curl https://mv3pro.ch/custom/mv3pro_portail/api/v1/planning_view.php?id=1 \
    -H "Authorization: Bearer {token}"

═══════════════════════════════════════════════════════════════
