â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MV3 PRO PWA - APPLICATION PRÃŠTE POUR LA PRODUCTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… L'APPLICATION EST MAINTENANT CONFIGURÃ‰E POUR VOTRE ENVIRONNEMENT !


ğŸŒ VOS URLs
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  PWA (Front)     : https://app.mv-3pro.ch/pro/
  Dolibarr (API)  : https://crm.mv-3pro.ch/


ğŸ—ï¸ ARCHITECTURE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  âœ… Authentification : DOLAPIKEY uniquement
  âœ… API              : Proxy /api/ â†’ crm.mv-3pro.ch/api/
  âœ… DonnÃ©es          : 100% API REST Dolibarr
  âœ… Mode offline     : IndexedDB
  âœ… Suivi heures     : Start/Pause/Stop avec localStorage


ğŸš€ DÃ‰PLOIEMENT (RAPIDE)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  1ï¸âƒ£  Compiler :
      npm install
      npm run build

  2ï¸âƒ£  FTP :
      Copier TOUT le contenu de dist/ dans /pro/
      âš ï¸ IMPORTANT : Le fichier .htaccess DOIT Ãªtre copiÃ© !

  3ï¸âƒ£  Tester :
      Ouvrir https://app.mv-3pro.ch/pro/
      Se connecter avec votre DOLAPIKEY


ğŸ”‘ OBTENIR VOTRE DOLAPIKEY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  1. Allez sur https://crm.mv-3pro.ch/
  2. Connectez-vous
  3. Cliquez sur votre nom (en haut Ã  droite)
  4. "Modifier ma fiche utilisateur"
  5. Onglet "ClÃ© API"
  6. "GÃ©nÃ©rer une nouvelle clÃ©"
  7. Copiez la clÃ©


ğŸ“ FICHIERS IMPORTANTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  ğŸ“– README_DEPLOY.md           â†’ Guide complet de dÃ©ploiement
  ğŸ”§ public/.htaccess           â†’ Reverse proxy (OBLIGATOIRE)
  âš™ï¸  .env                      â†’ Configuration de l'API
  ğŸ“¦ dist/                      â†’ Application compilÃ©e (Ã  copier en FTP)


âš™ï¸ FONCTIONNALITÃ‰S
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  âœ… Connexion DOLAPIKEY uniquement
  âœ… Suivi des heures (â–¶ï¸ Start / â¸ Pause / â¹ Stop)
  âœ… CrÃ©ation de rapports (fiches d'intervention)
  âœ… Photos avec compression automatique
  âœ… Notes vocales avec transcription
  âœ… GÃ©olocalisation GPS
  âœ… Mode offline avec sync automatique
  âœ… Sauvegarde automatique (toutes les 10 secondes)
  âœ… PWA installable


ğŸ”§ REVERSE PROXY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Le fichier public/.htaccess redirige :

    https://app.mv-3pro.ch/api/*
           â†“
    https://crm.mv-3pro.ch/api/*

  âš ï¸ Ce fichier est OBLIGATOIRE pour que l'app fonctionne !


ğŸ§ª TEST DU PROXY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  curl -H "DOLAPIKEY: votre_cle" https://app.mv-3pro.ch/api/index.php/users/info

  Si Ã§a fonctionne, vous devez voir vos infos utilisateur Dolibarr.


ğŸ’¾ MODE OFFLINE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  IndexedDB stocke :
    - Rapports en brouillon
    - Photos non uploadÃ©es
    - Notes vocales
    - Cache des donnÃ©es

  Synchronisation automatique au retour en ligne.


â±ï¸ SUIVI DES HEURES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Le composant TimeTracker affiche :
    - Timer en temps rÃ©el
    - Boutons Start/Pause/Reprendre/Stop
    - Total journalier
    - Historique des pÃ©riodes

  Les heures sont stockÃ©es en localStorage et liÃ©es Ã  l'intervention.


ğŸ”„ MISE Ã€ JOUR
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  1. npm run build
  2. FTP : Remplacer /pro/ avec dist/
  3. Vider le cache : Ctrl+Shift+R


ğŸ› DEBUG
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  âŒ Connexion Ã©choue :
     â†’ VÃ©rifiez la DOLAPIKEY
     â†’ F12 â†’ Console pour voir l'erreur

  âŒ Erreur CORS :
     â†’ VÃ©rifiez que .htaccess est prÃ©sent
     â†’ VÃ©rifiez que mod_headers est activÃ©

  âŒ Le proxy ne fonctionne pas :
     â†’ VÃ©rifiez que mod_rewrite est activÃ©
     â†’ VÃ©rifiez AllowOverride All dans Apache


ğŸ“– DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Lisez README_DEPLOY.md pour le guide complet !


ğŸ‰ FÃ‰LICITATIONS !
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Votre application MV3 Pro PWA est prÃªte pour la production !

  DÃ©ployez-la et commencez Ã  travailler !


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
